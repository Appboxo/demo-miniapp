{"version":3,"sources":["components/svgs/cross.svg","components/svgs/people.svg","components/Confirm.js","components/Preloader.js","components/svgs/success-icon.svg","components/svgs/error-icon.svg","components/LoginResponse.js","AuthContext.js","LoggerContext.js","Account/Account.js","Home/Home.js","components/Logs.js","App.js","serviceWorker.js","index.js","../../js-sdk/dist/index.umd.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","_ref","svgRef","title","props","viewBox","ref","ForwardRef","forwardRef","stroke","strokeWidth","strokeLinecap","strokeLinejoin","_ref3","fillRule","clipRule","_ref4","_ref5","width","height","fill","Confirm","onClose","onConfirm","className","onClick","Preloader","cx","cy","r","LoginResponse","isSuccessful","onTryAgain","onContinue","classnames","success","error","AuthContext","React","createContext","LoggerContext","Account","history","useHistory","useContext","loginStatus","setLoginStatus","updateLogs","useState","confirmOpen","setConfirmOpen","isLoading","setIsLoading","loginResponseStatus","setLoginResponseStatus","handleLogin","a","action","message","appboxoSdk","login","token","console","log","data","setTimeout","handleLogout","logout","handleGoBack","replace","Home","push","Logs","logs","map","JSON","stringify","App","logsVisibility","setLogsVisibility","setLogs","newLog","useEffect","getInitData","then","appData","Boolean","catch","Provider","value","path","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","t","_i","e","n","o","s","p","decodeURIComponent","u","defaults","expires","Date","toUTCString","test","write","encodeURIComponent","String","escape","split","cookie","slice","join","charAt","read","parse","set","get","getJSON","remove","withConverter","self","Symbol","Blob","ArrayBuffer","isView","toString","f","TypeError","toLowerCase","c","next","shift","done","iterator","l","forEach","append","Array","isArray","getOwnPropertyNames","h","bodyUsed","Promise","reject","y","onload","result","onerror","b","FileReader","readAsArrayBuffer","m","Uint8Array","byteLength","buffer","v","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","headers","type","blob","resolve","Error","arrayBuffer","text","readAsText","fromCharCode","formData","_","json","delete","has","values","entries","w","g","body","url","credentials","method","mode","signal","toUpperCase","referrer","trim","A","status","ok","statusText","clone","x","redirect","RangeError","E","DOMException","name","stack","create","constructor","B","aborted","XMLHttpRequest","abort","getAllResponseHeaders","responseURL","response","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","fetch","Headers","Request","Response","O","T","S","k","I","webkit","messageHandlers","j","AppboxoJs","P","U","C","D","bubbles","cancelable","detail","createEvent","initCustomEvent","R","F","L","postMessage","handler","params","sdkVersion","parent","W","CustomEvent","Event","N","q","H","M","current","add","request_id","subscribe","sendPromise","unsubscribe","splice","isWebView","init","app_id","client_id","payload","localStorage","setItem","removeItem","supports","includes"],"mappings":"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","file":"static/js/main.1a73a9c9.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M15,3C8.373,3,3,8.373,3,15c0,6.627,5.373,12,12,12s12-5.373,12-12C27,8.373,21.627,3,15,3z M19.707,18.293 c0.391,0.391,0.391,1.023,0,1.414C19.512,19.902,19.256,20,19,20s-0.512-0.098-0.707-0.293L15,16.414l-3.293,3.293 C11.512,19.902,11.256,20,11,20s-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414L13.586,15l-3.293-3.293 c-0.391-0.391-0.391-1.023,0-1.414s1.023-0.391,1.414,0L15,13.586l3.293-3.293c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414 L16.414,15L19.707,18.293z\"\n});\n\nvar SvgCross = function SvgCross(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 30 30\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCross, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/cross.69c27ed5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M35.4166 43.75V39.5833C35.4166 34.981 31.6857 31.25 27.0833 31.25H10.4166C5.81427 31.25 2.08331 34.981 2.08331 39.5833V43.75\",\n  stroke: \"black\",\n  strokeWidth: 3,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M18.75 22.9167C23.3524 22.9167 27.0834 19.1857 27.0834 14.5833C27.0834 9.98096 23.3524 6.25 18.75 6.25C14.1476 6.25 10.4167 9.98096 10.4167 14.5833C10.4167 19.1857 14.1476 22.9167 18.75 22.9167Z\",\n  stroke: \"black\",\n  strokeWidth: 3,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M47.9167 43.7499V39.5833C47.9139 35.7856 45.3438 32.4702 41.6667 31.5208\",\n  stroke: \"black\",\n  strokeWidth: 3,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M33.3333 6.52075C37.0206 7.46486 39.5997 10.7874 39.5997 14.5937C39.5997 18.3999 37.0206 21.7225 33.3333 22.6666\",\n  stroke: \"black\",\n  strokeWidth: 3,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgPeople = function SvgPeople(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 50,\n    height: 50,\n    viewBox: \"0 0 50 50\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgPeople, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/people.05bd9f12.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\nimport { ReactComponent as CrossIcon } from './svgs/cross.svg'\nimport { ReactComponent as PeopleIcon } from './svgs/people.svg'\n\nimport './Confirm.scss'\n\nconst Confirm = ({ onClose, onConfirm }) => {\n  return (\n    <section className=\"confirm\">\n      <div className=\"confirm-modal\">\n        <div className=\"confirm-modal__close\">\n          <CrossIcon onClick={onClose}/>\n        </div>\n        <div className=\"confirm-modal__icon\">\n          <PeopleIcon />\n        </div>\n        <h3>This service is requesting access to your account</h3>\n        <p>The service will be able to see the email address linked to your account</p>\n        <button className=\"button\" onClick={onConfirm}>Allow</button>\n      </div>\n    </section>\n  )\n}\n\nexport default Confirm\n","import React from 'react'\n\nimport './Preloader.scss'\n\nconst Preloader = () => {\n  return (\n    <div className=\"preloader\">\n      <div className=\"preloader__spinner\">\n        <div className=\"spinner\"></div>\n      </div>\n    </div>\n  )\n}\n\nexport default Preloader\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M133 2L42.9375 92L2 51.0909\",\n  stroke: \"black\",\n  strokeWidth: 4,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar SvgSuccessIcon = function SvgSuccessIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 135,\n    height: 94,\n    viewBox: \"0 0 135 94\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgSuccessIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/success-icon.aaba749b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M69 126.5C100.756 126.5 126.5 100.756 126.5 69C126.5 37.2436 100.756 11.5 69 11.5C37.2436 11.5 11.5 37.2436 11.5 69C11.5 100.756 37.2436 126.5 69 126.5Z\",\n  stroke: \"black\",\n  strokeWidth: 4,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M69 46V69\",\n  stroke: \"black\",\n  strokeWidth: 4,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 69,\n  cy: 92,\n  r: 5.75,\n  fill: \"black\"\n});\n\nvar SvgErrorIcon = function SvgErrorIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 138,\n    height: 138,\n    viewBox: \"0 0 138 138\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgErrorIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/error-icon.952f8910.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\nimport classnames from 'classnames'\nimport { ReactComponent as SuccessIcon } from '../components/svgs/success-icon.svg'\nimport { ReactComponent as ErrorIcon } from '../components/svgs/error-icon.svg'\n\nconst LoginResponse = ({ isSuccessful, onTryAgain, onContinue }) => {\n  return (\n    <div className={classnames('pane', {\n      success: isSuccessful,\n      error: !isSuccessful\n    })}>\n      <div className=\"center\">\n        <div>\n          {isSuccessful ? <SuccessIcon /> : <ErrorIcon />}\n          <h3>\n            {isSuccessful ? 'Successfully authorised' : 'Unsuccessful authorisation'}\n          </h3>\n        </div>\n      </div>\n      <button\n        className=\"button\"\n        onClick={isSuccessful ? onContinue : onTryAgain}\n      >\n        {isSuccessful ? 'Continue' : 'Try again'}\n      </button>\n    </div>\n  )\n}\n\nexport default LoginResponse\n","import React from 'react'\n\nconst AuthContext = React.createContext(null)\n\nexport default AuthContext\n","import React from 'react'\n\nconst LoggerContext = React.createContext(null)\n\nexport default LoggerContext\n","import React, { useState } from 'react'\nimport appboxoSdk from '@appboxo/js-sdk'\nimport { useHistory } from 'react-router-dom';\n\nimport Confirm from '../components/Confirm.js'\nimport Preloader from '../components/Preloader.js'\nimport LoginResponse from '../components/LoginResponse.js'\nimport AuthContext from '../AuthContext.js'\nimport LoggerContext from '../LoggerContext.js'\n\n\nimport './Account.scss'\n\nconst LOGIN_SUCCESS = 'success'\nconst LOGIN_FAILED = 'error'\nconst LOGIN_NONE = ''\n\nconst Account = () => {\n  let history = useHistory();\n  const { loginStatus, setLoginStatus } = React.useContext(AuthContext)\n  const { updateLogs } = React.useContext(LoggerContext)\n\n  const [confirmOpen, setConfirmOpen] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n  const [loginResponseStatus, setLoginResponseStatus] = useState(LOGIN_NONE)\n\n  const handleLogin = async () => {\n    setIsLoading(true)\n    setConfirmOpen(false)\n    try {\n      updateLogs({\n        action: 'LOGIN_TO_DASHBOARD',\n        message: 'request sent',\n      })\n      const token = await appboxoSdk.login()\n      console.log('token: ', token)\n\n      setLoginStatus(true)\n\n      updateLogs({\n        action: 'LOGIN_TO_DASHBOARD',\n        message: 'response received',\n        data: token\n      })\n\n      setLoginResponseStatus(LOGIN_SUCCESS)\n    } catch (error) {\n      console.log(error)\n\n      updateLogs({\n        action: 'LOGIN_TO_DASHBOARD',\n        message: 'request failed',\n        data: error\n      })\n\n      setLoginResponseStatus(LOGIN_FAILED)\n    }\n\n    setTimeout(() => {\n      setIsLoading(false)\n    }, 1000)\n  }\n\n  const handleClose = () => {\n    setConfirmOpen(false)\n  }\n\n  const handleLogout = async () => {\n    setIsLoading(true)\n    updateLogs({\n      action: 'LOGOUT',\n      message: 'request sent',\n    })\n\n    // Logout\n    try {\n      await appboxoSdk.logout()\n      console.log('Resolved')\n      setLoginStatus(false)\n\n      updateLogs({\n        action: 'LOGOUT',\n        message: 'response received',\n      })\n    } catch (error) {\n      console.log('Logout error: ', error)\n\n      updateLogs({\n        action: 'LOGOUT',\n        message: 'request failed',\n        data: error\n      })\n    }\n\n    setIsLoading(false)\n  }\n\n  const handleTryAgain = () => {\n    setLoginResponseStatus(LOGIN_NONE)\n\n    handleLogin()\n  }\n\n  const handleGoBack = () => {\n    history.replace('/')\n\n    updateLogs({\n      action: 'REDIRECT',\n      message: 'to home'\n    })\n  }\n\n  return loginResponseStatus ? (\n    <>\n      <LoginResponse\n        isSuccessful={loginStatus}\n        onContinue={() => setLoginResponseStatus(LOGIN_NONE)}\n        onTryAgain={handleTryAgain}\n      />\n      {isLoading && <Preloader />}\n    </>\n  ) : (\n    <section className=\"pane account\">\n      <div>\n        <h1>Account details</h1>\n        <div className=\"account__email\">\n          Status: <b>{loginStatus ? 'Logged in' : 'Not logged in'}</b>\n        </div>\n      </div>\n      <div>\n        {loginStatus ? (\n          <>\n            <button className=\"button logout\" onClick={handleLogout}>Logout</button>\n            <button className=\"button button-light\" onClick={handleGoBack}>Back</button>\n          </>\n        ) : (\n          <>\n            <button className=\"button login\" onClick={() => setConfirmOpen(true)}>Login</button>\n            <button className=\"button button-light\" onClick={handleGoBack}>Back</button>\n          </>\n        )}\n      </div>\n      {confirmOpen && <Confirm\n        onClose={handleClose}\n        onConfirm={handleLogin}\n      />}\n      {isLoading && <Preloader />}\n    </section>\n  )\n}\n\nexport default Account\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport LoggerContext from '../LoggerContext.js'\n\nimport './Home.scss'\n\nconst Home = (props) => {\n  const { updateLogs } = React.useContext(LoggerContext)\n  let history = useHistory();\n\n  const handleClick = () => {\n    updateLogs({\n      action: 'REDIRECT',\n      message: 'to account details'\n    })\n    history.push('/account');\n  }\n\n  return (\n    <section className=\"pane intro\">\n      <div>\n        <h1>Appboxo Connect API demo</h1>\n        <p>This demo shows Appboxo Connect API capabilities to pass login credentials from host app to miniapp.</p>\n        <p>Tap on account details button to login in the miniapp with credentials from Appboxo demo app.</p>\n      </div>\n      <button className=\"button\" onClick={handleClick}>Account details</button>\n    </section>\n  )\n}\n\nexport default Home\n","import React from 'react'\n\nimport './Logs.scss'\n\nconst Logs = ({ onClose, logs }) => {\n  return (\n    <section className=\"logs\">\n      <button className=\"show-logs-button\" onClick={onClose}>Hide Logs</button>\n      <ul>\n        {logs.map(log => (<li key={log.action + '-' + log.message}>\n          {log.action}: {log.message} <br/>\n          {JSON.stringify(log.data)}\n        </li>))}\n      </ul>\n    </section>\n  )\n}\n\nexport default Logs\n","import React, { useEffect, useState } from 'react'\n\nimport appboxoSdk from '@appboxo/js-sdk'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom';\nimport Account from './Account/Account.js'\nimport Home from './Home/Home.js'\nimport AuthContext from './AuthContext.js'\nimport LoggerContext from './LoggerContext.js'\nimport Logs from './components/Logs.js'\n\nfunction App() {\n  const [loginStatus, setLoginStatus] = useState(false)\n  const [logsVisibility, setLogsVisibility] = useState(false)\n  const [logs, setLogs] = useState([])\n\n  const updateLogs = (newLog) => {\n    setLogs([...logs, newLog])\n  }\n\n  useEffect(() => {\n    updateLogs({\n      action: 'AppBoxoWebAppGetInitData',\n      message: 'request sent'\n    })\n    appboxoSdk.getInitData()\n      .then((appData) => {\n        setLoginStatus(Boolean(appData.token))\n\n        updateLogs({\n          action: 'AppBoxoWebAppGetInitData',\n          message: 'response received',\n          data: appData\n        })\n      })\n      .catch((error) => {\n        console.log('Error getting web app init data: ', error)\n\n        updateLogs({\n          action: 'AppBoxoWebAppGetInitData',\n          message: 'request failed',\n          data: error\n        })\n      })\n  }, [])\n\n  return (\n    <AuthContext.Provider value={{\n      loginStatus,\n      setLoginStatus\n    }}>\n      {!logsVisibility && <button className=\"show-logs-button\" onClick={() => setLogsVisibility(true)}>Show Logs</button>}\n      <LoggerContext.Provider value={{\n        updateLogs\n      }}>\n        <Router>\n          <Switch>\n            <Route path=\"/account\">\n              <Account />\n            </Route>\n            <Route path=\"/\">\n              <Home />\n            </Route>\n          </Switch>\n        </Router>\n      </LoggerContext.Provider>\n      {logsVisibility && <Logs logs={logs} onClose={() => setLogsVisibility(false)}/>}\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","!function (t, e) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define(e) : (t = t || self).appboxoSDK = e();\n}(this, function () {\n  \"use strict\";\n\n  var _i = function i() {\n    return (_i = Object.assign || function (t) {\n      for (var e, r = 1, n = arguments.length; r < n; r++) {\n        for (var o in e = arguments[r]) {\n          Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);\n        }\n      }\n\n      return t;\n    }).apply(this, arguments);\n  };\n\n  var t,\n      s = (function (t, e) {\n    var r;\n    r = function r() {\n      function a() {\n        for (var t = 0, e = {}; t < arguments.length; t++) {\n          var r = arguments[t];\n\n          for (var n in r) {\n            e[n] = r[n];\n          }\n        }\n\n        return e;\n      }\n\n      function p(t) {\n        return t.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n      }\n\n      return function t(u) {\n        function s() {}\n\n        function r(t, e, r) {\n          if (\"undefined\" != typeof document) {\n            \"number\" == typeof (r = a({\n              path: \"/\"\n            }, s.defaults, r)).expires && (r.expires = new Date(1 * new Date() + 864e5 * r.expires)), r.expires = r.expires ? r.expires.toUTCString() : \"\";\n\n            try {\n              var n = JSON.stringify(e);\n              /^[\\{\\[]/.test(n) && (e = n);\n            } catch (t) {}\n\n            e = u.write ? u.write(e, t) : encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), t = encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent).replace(/[\\(\\)]/g, escape);\n            var o = \"\";\n\n            for (var i in r) {\n              r[i] && (o += \"; \" + i, !0 !== r[i] && (o += \"=\" + r[i].split(\";\")[0]));\n            }\n\n            return document.cookie = t + \"=\" + e + o;\n          }\n        }\n\n        function e(t, e) {\n          if (\"undefined\" != typeof document) {\n            for (var r = {}, n = document.cookie ? document.cookie.split(\"; \") : [], o = 0; o < n.length; o++) {\n              var i = n[o].split(\"=\"),\n                  s = i.slice(1).join(\"=\");\n              e || '\"' !== s.charAt(0) || (s = s.slice(1, -1));\n\n              try {\n                var a = p(i[0]);\n                if (s = (u.read || u)(s, a) || p(s), e) try {\n                  s = JSON.parse(s);\n                } catch (t) {}\n                if (r[a] = s, t === a) break;\n              } catch (t) {}\n            }\n\n            return t ? r[t] : r;\n          }\n        }\n\n        return s.set = r, s.get = function (t) {\n          return e(t, !1);\n        }, s.getJSON = function (t) {\n          return e(t, !0);\n        }, s.remove = function (t, e) {\n          r(t, \"\", a(e, {\n            expires: -1\n          }));\n        }, s.defaults = {}, s.withConverter = t, s;\n      }(function () {});\n    }, t.exports = r();\n  }(t = {\n    exports: {}\n  }, t.exports), t.exports),\n      e = \"URLSearchParams\" in self,\n      r = \"Symbol\" in self && \"iterator\" in Symbol,\n      a = \"FileReader\" in self && \"Blob\" in self && function () {\n    try {\n      return new Blob(), !0;\n    } catch (t) {\n      return !1;\n    }\n  }(),\n      n = \"FormData\" in self,\n      o = \"ArrayBuffer\" in self;\n\n  if (o) var u = [\"[object Int8Array]\", \"[object Uint8Array]\", \"[object Uint8ClampedArray]\", \"[object Int16Array]\", \"[object Uint16Array]\", \"[object Int32Array]\", \"[object Uint32Array]\", \"[object Float32Array]\", \"[object Float64Array]\"],\n      p = ArrayBuffer.isView || function (t) {\n    return t && -1 < u.indexOf(Object.prototype.toString.call(t));\n  };\n\n  function f(t) {\n    if (\"string\" != typeof t && (t = String(t)), /[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(t)) throw new TypeError(\"Invalid character in header field name\");\n    return t.toLowerCase();\n  }\n\n  function c(t) {\n    return \"string\" != typeof t && (t = String(t)), t;\n  }\n\n  function d(e) {\n    var t = {\n      next: function next() {\n        var t = e.shift();\n        return {\n          done: void 0 === t,\n          value: t\n        };\n      }\n    };\n    return r && (t[Symbol.iterator] = function () {\n      return t;\n    }), t;\n  }\n\n  function l(e) {\n    this.map = {}, e instanceof l ? e.forEach(function (t, e) {\n      this.append(e, t);\n    }, this) : Array.isArray(e) ? e.forEach(function (t) {\n      this.append(t[0], t[1]);\n    }, this) : e && Object.getOwnPropertyNames(e).forEach(function (t) {\n      this.append(t, e[t]);\n    }, this);\n  }\n\n  function h(t) {\n    if (t.bodyUsed) return Promise.reject(new TypeError(\"Already read\"));\n    t.bodyUsed = !0;\n  }\n\n  function y(r) {\n    return new Promise(function (t, e) {\n      r.onload = function () {\n        t(r.result);\n      }, r.onerror = function () {\n        e(r.error);\n      };\n    });\n  }\n\n  function b(t) {\n    var e = new FileReader(),\n        r = y(e);\n    return e.readAsArrayBuffer(t), r;\n  }\n\n  function m(t) {\n    if (t.slice) return t.slice(0);\n    var e = new Uint8Array(t.byteLength);\n    return e.set(new Uint8Array(t)), e.buffer;\n  }\n\n  function v() {\n    return this.bodyUsed = !1, this._initBody = function (t) {\n      (this._bodyInit = t) ? \"string\" == typeof t ? this._bodyText = t : a && Blob.prototype.isPrototypeOf(t) ? this._bodyBlob = t : n && FormData.prototype.isPrototypeOf(t) ? this._bodyFormData = t : e && URLSearchParams.prototype.isPrototypeOf(t) ? this._bodyText = t.toString() : o && a && function (t) {\n        return t && DataView.prototype.isPrototypeOf(t);\n      }(t) ? (this._bodyArrayBuffer = m(t.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer])) : o && (ArrayBuffer.prototype.isPrototypeOf(t) || p(t)) ? this._bodyArrayBuffer = m(t) : this._bodyText = t = Object.prototype.toString.call(t) : this._bodyText = \"\", this.headers.get(\"content-type\") || (\"string\" == typeof t ? this.headers.set(\"content-type\", \"text/plain;charset=UTF-8\") : this._bodyBlob && this._bodyBlob.type ? this.headers.set(\"content-type\", this._bodyBlob.type) : e && URLSearchParams.prototype.isPrototypeOf(t) && this.headers.set(\"content-type\", \"application/x-www-form-urlencoded;charset=UTF-8\"));\n    }, a && (this.blob = function () {\n      var t = h(this);\n      if (t) return t;\n      if (this._bodyBlob) return Promise.resolve(this._bodyBlob);\n      if (this._bodyArrayBuffer) return Promise.resolve(new Blob([this._bodyArrayBuffer]));\n      if (this._bodyFormData) throw new Error(\"could not read FormData body as blob\");\n      return Promise.resolve(new Blob([this._bodyText]));\n    }, this.arrayBuffer = function () {\n      return this._bodyArrayBuffer ? h(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(b);\n    }), this.text = function () {\n      var t = h(this);\n      if (t) return t;\n      if (this._bodyBlob) return function (t) {\n        var e = new FileReader(),\n            r = y(e);\n        return e.readAsText(t), r;\n      }(this._bodyBlob);\n      if (this._bodyArrayBuffer) return Promise.resolve(function (t) {\n        for (var e = new Uint8Array(t), r = new Array(e.length), n = 0; n < e.length; n++) {\n          r[n] = String.fromCharCode(e[n]);\n        }\n\n        return r.join(\"\");\n      }(this._bodyArrayBuffer));\n      if (this._bodyFormData) throw new Error(\"could not read FormData body as text\");\n      return Promise.resolve(this._bodyText);\n    }, n && (this.formData = function () {\n      return this.text().then(_);\n    }), this.json = function () {\n      return this.text().then(JSON.parse);\n    }, this;\n  }\n\n  l.prototype.append = function (t, e) {\n    t = f(t), e = c(e);\n    var r = this.map[t];\n    this.map[t] = r ? r + \", \" + e : e;\n  }, l.prototype.delete = function (t) {\n    delete this.map[f(t)];\n  }, l.prototype.get = function (t) {\n    return t = f(t), this.has(t) ? this.map[t] : null;\n  }, l.prototype.has = function (t) {\n    return this.map.hasOwnProperty(f(t));\n  }, l.prototype.set = function (t, e) {\n    this.map[f(t)] = c(e);\n  }, l.prototype.forEach = function (t, e) {\n    for (var r in this.map) {\n      this.map.hasOwnProperty(r) && t.call(e, this.map[r], r, this);\n    }\n  }, l.prototype.keys = function () {\n    var r = [];\n    return this.forEach(function (t, e) {\n      r.push(e);\n    }), d(r);\n  }, l.prototype.values = function () {\n    var e = [];\n    return this.forEach(function (t) {\n      e.push(t);\n    }), d(e);\n  }, l.prototype.entries = function () {\n    var r = [];\n    return this.forEach(function (t, e) {\n      r.push([e, t]);\n    }), d(r);\n  }, r && (l.prototype[Symbol.iterator] = l.prototype.entries);\n  var w = [\"DELETE\", \"GET\", \"HEAD\", \"OPTIONS\", \"POST\", \"PUT\"];\n\n  function g(t, e) {\n    var r = (e = e || {}).body;\n\n    if (t instanceof g) {\n      if (t.bodyUsed) throw new TypeError(\"Already read\");\n      this.url = t.url, this.credentials = t.credentials, e.headers || (this.headers = new l(t.headers)), this.method = t.method, this.mode = t.mode, this.signal = t.signal, r || null == t._bodyInit || (r = t._bodyInit, t.bodyUsed = !0);\n    } else this.url = String(t);\n\n    if (this.credentials = e.credentials || this.credentials || \"same-origin\", !e.headers && this.headers || (this.headers = new l(e.headers)), this.method = function (t) {\n      var e = t.toUpperCase();\n      return -1 < w.indexOf(e) ? e : t;\n    }(e.method || this.method || \"GET\"), this.mode = e.mode || this.mode || null, this.signal = e.signal || this.signal, this.referrer = null, (\"GET\" === this.method || \"HEAD\" === this.method) && r) throw new TypeError(\"Body not allowed for GET or HEAD requests\");\n\n    this._initBody(r);\n  }\n\n  function _(t) {\n    var o = new FormData();\n    return t.trim().split(\"&\").forEach(function (t) {\n      if (t) {\n        var e = t.split(\"=\"),\n            r = e.shift().replace(/\\+/g, \" \"),\n            n = e.join(\"=\").replace(/\\+/g, \" \");\n        o.append(decodeURIComponent(r), decodeURIComponent(n));\n      }\n    }), o;\n  }\n\n  function A(t, e) {\n    e = e || {}, this.type = \"default\", this.status = void 0 === e.status ? 200 : e.status, this.ok = 200 <= this.status && this.status < 300, this.statusText = \"statusText\" in e ? e.statusText : \"OK\", this.headers = new l(e.headers), this.url = e.url || \"\", this._initBody(t);\n  }\n\n  g.prototype.clone = function () {\n    return new g(this, {\n      body: this._bodyInit\n    });\n  }, v.call(g.prototype), v.call(A.prototype), A.prototype.clone = function () {\n    return new A(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new l(this.headers),\n      url: this.url\n    });\n  }, A.error = function () {\n    var t = new A(null, {\n      status: 0,\n      statusText: \"\"\n    });\n    return t.type = \"error\", t;\n  };\n  var x = [301, 302, 303, 307, 308];\n\n  A.redirect = function (t, e) {\n    if (-1 === x.indexOf(e)) throw new RangeError(\"Invalid status code\");\n    return new A(null, {\n      status: e,\n      headers: {\n        location: t\n      }\n    });\n  };\n\n  var E = self.DOMException;\n\n  try {\n    new E();\n  } catch (t) {\n    (E = function E(t, e) {\n      this.message = t, this.name = e;\n      var r = Error(t);\n      this.stack = r.stack;\n    }).prototype = Object.create(Error.prototype), E.prototype.constructor = E;\n  }\n\n  function B(i, s) {\n    return new Promise(function (r, t) {\n      var e = new g(i, s);\n      if (e.signal && e.signal.aborted) return t(new E(\"Aborted\", \"AbortError\"));\n      var n = new XMLHttpRequest();\n\n      function o() {\n        n.abort();\n      }\n\n      n.onload = function () {\n        var t = {\n          status: n.status,\n          statusText: n.statusText,\n          headers: function (t) {\n            var o = new l();\n            return t.replace(/\\r?\\n[\\t ]+/g, \" \").split(/\\r?\\n/).forEach(function (t) {\n              var e = t.split(\":\"),\n                  r = e.shift().trim();\n\n              if (r) {\n                var n = e.join(\":\").trim();\n                o.append(r, n);\n              }\n            }), o;\n          }(n.getAllResponseHeaders() || \"\")\n        };\n        t.url = \"responseURL\" in n ? n.responseURL : t.headers.get(\"X-Request-URL\");\n        var e = \"response\" in n ? n.response : n.responseText;\n        r(new A(e, t));\n      }, n.onerror = function () {\n        t(new TypeError(\"Network request failed\"));\n      }, n.ontimeout = function () {\n        t(new TypeError(\"Network request failed\"));\n      }, n.onabort = function () {\n        t(new E(\"Aborted\", \"AbortError\"));\n      }, n.open(e.method, e.url, !0), \"include\" === e.credentials ? n.withCredentials = !0 : \"omit\" === e.credentials && (n.withCredentials = !1), \"responseType\" in n && a && (n.responseType = \"blob\"), e.headers.forEach(function (t, e) {\n        n.setRequestHeader(e, t);\n      }), e.signal && (e.signal.addEventListener(\"abort\", o), n.onreadystatechange = function () {\n        4 === n.readyState && e.signal.removeEventListener(\"abort\", o);\n      }), n.send(void 0 === e._bodyInit ? null : e._bodyInit);\n    });\n  }\n\n  B.polyfill = !0, self.fetch || (self.fetch = B, self.Headers = l, self.Request = g, self.Response = A);\n  var O = \"1.0.6\",\n      T = [\"AppBoxoWebAppInit\", \"AppBoxoWebAppGetInitData\", \"AppBoxoWebAppOpenMiniApp\", \"AppBoxoWebAppClearToken\", \"AppBoxoWebAppSaveToken\"],\n      S = [],\n      k = \"undefined\" != typeof window,\n      I = k && window.webkit && void 0 !== window.webkit.messageHandlers,\n      j = k ? window.AppboxoJs : void 0,\n      P = I ? window.webkit.messageHandlers : void 0,\n      U = k && !j && !P,\n      C = U ? \"message\" : \"AppBoxoWebAppEvent\";\n\n  function D(t, e) {\n    var r = e || {\n      bubbles: !1,\n      cancelable: !1,\n      detail: void 0\n    },\n        n = document.createEvent(\"CustomEvent\");\n    return n.initCustomEvent(t, !!r.bubbles, !!r.cancelable, r.detail), n;\n  }\n\n  function R(t) {\n    return 200 <= t.status && t.status < 300 ? Promise.resolve(t) : Promise.reject(new Error(t.statusText));\n  }\n\n  function F(t) {\n    return t.json();\n  }\n\n  k && (window.CustomEvent || (window.CustomEvent = (D.prototype = Event.prototype, D)), window.addEventListener(C, function () {\n    for (var e = [], t = 0; t < arguments.length; t++) {\n      e[t] = arguments[t];\n    }\n\n    var r = function () {\n      for (var t = 0, e = 0, r = arguments.length; e < r; e++) {\n        t += arguments[e].length;\n      }\n\n      var n = Array(t),\n          o = 0;\n\n      for (e = 0; e < r; e++) {\n        for (var i = arguments[e], s = 0, a = i.length; s < a; s++, o++) {\n          n[o] = i[s];\n        }\n      }\n\n      return n;\n    }(S);\n\n    if (U && e[0] && \"data\" in e[0]) {\n      var n = e[0].data;\n      r.forEach(function (t) {\n        t({\n          detail: n\n        });\n      });\n    } else r.forEach(function (t) {\n      t.apply(null, e);\n    });\n  }));\n\n  function L(t, e) {\n    void 0 === e && (e = {}), j && \"function\" == typeof j[t] && j[t](JSON.stringify(e)), P && P[t] && \"function\" == typeof P[t].postMessage && P[t].postMessage(e), U && (console.log(\"postMessage: \", {\n      handler: t,\n      params: e,\n      type: \"appboxo-js-sdk\",\n      sdkVersion: O\n    }), parent.postMessage({\n      handler: t,\n      params: e,\n      type: \"appboxo-js-sdk\",\n      sdkVersion: O\n    }, \"*\"));\n  }\n\n  function W(t) {\n    S.push(t);\n  }\n\n  var N,\n      q,\n      H,\n      M = (N = L, q = W, H = function () {\n    var r = {\n      current: 0,\n      next: function next() {\n        return this.current += 1, this.current;\n      }\n    },\n        o = {};\n    return {\n      add: function add(t) {\n        var e = r.next();\n        return o[e] = t, e;\n      },\n      resolve: function resolve(t, e, r) {\n        var n = o[t];\n        n && (r(e) ? n.resolve(e) : n.reject(e), o[t] = null);\n      }\n    };\n  }(), q(function (t) {\n    if (t.detail && t.detail.data) {\n      var e = t.detail.data,\n          r = e.request_id,\n          n = function (t, e) {\n        var r = {};\n\n        for (var n in t) {\n          Object.prototype.hasOwnProperty.call(t, n) && e.indexOf(n) < 0 && (r[n] = t[n]);\n        }\n\n        if (null != t && \"function\" == typeof Object.getOwnPropertySymbols) {\n          var o = 0;\n\n          for (n = Object.getOwnPropertySymbols(t); o < n.length; o++) {\n            e.indexOf(n[o]) < 0 && Object.prototype.propertyIsEnumerable.call(t, n[o]) && (r[n[o]] = t[n[o]]);\n          }\n        }\n\n        return r;\n      }(e, [\"request_id\"]);\n\n      r && H.resolve(r, n, function (t) {\n        return !(\"error_type\" in t);\n      });\n    }\n  }), function (n, o) {\n    return new Promise(function (t, e) {\n      var r = H.add({\n        resolve: t,\n        reject: e\n      });\n      N(n, _i(_i({}, o), {\n        request_id: r\n      }));\n    });\n  }),\n      G = {\n    send: L,\n    subscribe: W,\n    sendPromise: M,\n    unsubscribe: function unsubscribe(t) {\n      var e = S.indexOf(t);\n      -1 < e && S.splice(e, 1);\n    },\n    isWebView: function isWebView() {\n      return !(!j && !P);\n    },\n    init: function init() {\n      L(\"AppBoxoWebAppInit\");\n    },\n    getInitData: function getInitData() {\n      return M(\"AppBoxoWebAppGetInitData\").then(function (t) {\n        var e = t.app_id,\n            r = t.client_id,\n            n = t.payload,\n            o = t.token,\n            i = void 0 === o ? \"\" : o;\n\n        try {\n          localStorage.setItem(\"ab_app_id\", e), localStorage.setItem(\"ab_client_id\", r), localStorage.setItem(\"ab_payload\", n), localStorage.setItem(\"ab_token\", i);\n        } catch (t) {}\n\n        return s.set(\"ab_app_id\", e), s.set(\"ab_client_id\", r), s.set(\"ab_payload\", n), s.set(\"ab_token\", i), {\n          app_id: e,\n          client_id: r,\n          payload: n,\n          token: i\n        };\n      });\n    },\n    login: function login() {\n      var t = s.get(\"ab_app_id\"),\n          n = s.get(\"ab_client_id\"),\n          o = s.get(\"ab_payload\");\n      return new Promise(function (e, r) {\n        return t && n && o ? fetch(\"https://dashboard.appboxo.com/partner/login/\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            client_id: n,\n            app_id: t,\n            payload: o\n          })\n        }).then(R).then(F).then(function (t) {\n          if (t.token) {\n            try {\n              localStorage.setItem(\"ab_token\", t.token);\n            } catch (t) {}\n\n            return s.set(\"ab_token\", t.token), L(\"AppBoxoWebAppSaveToken\", {\n              token: t.token\n            }), e(t.token);\n          }\n\n          throw new Error(\"No auth token received\");\n        }).catch(function (t) {\n          return r({\n            status: \"Error\",\n            message: \"Login failed\",\n            error: t\n          });\n        }) : r({\n          status: \"Error\",\n          message: 'Init app data is not provided, please call `send(\"AppBoxoWebAppGetInitData\")`'\n        });\n      });\n    },\n    logout: function logout() {\n      try {\n        localStorage.removeItem(\"ab_token\");\n      } catch (t) {}\n\n      return s.remove(\"ab_token\"), M(\"AppBoxoWebAppClearToken\");\n    },\n    supports: function supports(t) {\n      return !(!j || \"function\" != typeof j[t]) || !(!P || !P[t] || \"function\" != typeof P[t].postMessage) || !(P || j || !T.includes(t));\n    }\n  };\n\n  if (\"object\" != typeof exports || \"undefined\" == typeof module) {\n    var J = null;\n    \"undefined\" != typeof window ? J = window : \"undefined\" != typeof global ? J = global : \"undefined\" != typeof self && (J = self), J && (J.appboxoSDK = G);\n  }\n\n  return G;\n});"],"sourceRoot":""}